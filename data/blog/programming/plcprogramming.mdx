---
title: PLC Programming
date: '2021-03-02'
tags: ['programming', 'plc', 'guide']
---

PLC programming for Schneider, Rockwell and Siemens.

***

1. [Zelio Logic PLC](#zelio-logic)

***

# Zelio Logic Safety #

* Use by trained profesionals
* Use only if there is a safety point for the operatior.
* Automation equipment to control industrial processes.
* Select model of automation equipment based on application, control function required, degree of protection, production methods, government regulations etc.
* Refer to the national or local standards and regulations such as the NSCAP Manual. In many cases point of operation guiarding or safety must be provided.
* Before using the automation equipem3ent a startup test is always required.
* Verrify that there are no short circuits or temprary ground acording to standards such as National Electrical Code in the USA.
* Before energizing the equi9pent: Remove tools, meters and debris, close the equipment enclosure door, remove all temporary grounds, perform all start up tests.

* Verify all installation ans set up have been completed, remove all blocks or temporary holdings, remove tools meters and debris. 
* Opetator restrictions and unauthorized changes prevents accidental misadjustment of the equipment resulting in usafe operation.

* We recommend you download the product datasheet for specific information.

* Designers of control schemes must consider potential failure modes, paths and functions.
* Achieving a safe statue during and after a failure path has been followed. For example emergency stops and overtravel stops, power outage and restarts.
* Consider redundancy for failure control paths and also failure in the communication links themselves such as unanticipated transmission delays or failures.
* Refer to safete NEMA ICS 1.1 and NEMA ICS 7.1

* Special Care must be taken when using modern remote control devices such as smart relays:

Zelio Logic 2 Smart Relay User Manual
http://www.schneider-electric.com/en/download/document/EIO0000002690/

Zelio Soft 2 Applications Example Guide
http://www.schneider-electric.com/en/download/document/EIO0000002600/

SR2A••••• / SR2B••••• Instruction Sheet
http://www.schneider-electric.com/en/download/document/1724026_01A55/

SR2D••••• / SR2E••••• Instruction Sheet
http://www.schneider-electric.com/en/download/document/1724028_01A55/

SR3B••••• Instruction Sheet
http://www.schneider-electric.com/en/download/document/1724027_01A55/


| Standard | Description |
| :---: | :---: |
| EN 61131-2:2007 | Programmable Controllers: Equipment requirements and tests |
| ISO 13849-1:2008 | Safety of machinery: Control systems and general design |
| EN 61496-1:2013 | Safety of machinery: Electro-sensitive protective equipment |
| ISO 12100:2010 | Safety of machinery: Risk assessment and risk reduction |
| EN 60204-1:2006 | Safety of machinery: Electrical equipment of machines |
| EN 1088:2008 ISO 14119:2013 | Safety of machinery: Interlocking devices and guards |
| ISO 13850:2006 | Safety of machinery: Emergency stop |
| EN/IEC 62061:2005 | Functional safety of electrical, electronic, and control systems |
| IEC 61508-1:2010 | Functional safety of E/E/C related systems |
| IEC 61508-2:2010 | Functional safety of E/E/C related systems (Requirements) |
| IEC 61508-3:2010 | Functional safety of E/E/C related systems (Software) |
| IEC 61784-3:2008 | Functional safety of field buses (Digital Data Communications) |
| 2006/42/EC | Machinery Directive |
| 2014/30/EU | Electromagnetic Compatibility Directive |
| 2014/35/EU | Low Voltage Directive |
| IEC 60034 Series | Rotating electrical machines |
| IEC 61800 Series | Adjustable speed electrical power drive systems |
| IEC 61158 Series | Fieldbus for use in industrial control systems |
| 2006/42/EC ISO 12100:2010 | Zone of operation for specific hazard and danger zones |

# Zelio Soft 2 #

Zelio Soft 2 Programming Software is designed to program the Zelio Logic Smart Relay family of
controllers. Zelio Soft 2 allows you to choose between programming languages, display program
and parameter data, upload and download applications, and print application documentation.

* In LD mode we can program smart relays with screens.
* To program smart relays without screens we use LD mode (Ladder) or FBD mode (Function Block Diagram).
* This implement timers, counters, time management, character strings and communications.

**Ladder Language**

* Graphic language used to transcribe relay diagrams composed of contacts that let current power coils, it is ideal for combinational processing.
* Maximum number of lines in LD is 120 for SR2COM01 communications or 240 without SR2COM01 
* FBD mode uses predefined function blocks for timing, counters and logic.

* You start by contructing the programs in ENTRY mode and then testing the program in DEBUG MODE, debug mode can be in simulation (program executed offline and simulated in the PC), or in monitoring (program executed on smar relay).
* You can dynamically display output states with EDIT - SUPERVISION - FRONT PANEL.
* Another common activity is to FORCE inputs and outputs to test specific conditions.


Creating or modifying the configuration of an application
Description
This is an important phase, as it determines the configuration of the work environment.
The available functions depend on:
 The hardware configuration (module/extension),
 The type of programming language selected (LD/FBD).
These choices enable configuration of the programming software:
 LD/FBD context for the menus,
 Composition of the windows.
Module Selection/Programming Option
Within the Module menu, the Module Selection/Programming option is used to modify the module
and/or extension type when an application is open in edit mode. If you also modify the
programming type of an application open in edit mode, then the open application must be closed
and a new application created (user program).
This option displays a suite of three pages within a dialog box:
 The first is used to choose the type of module,
 The second is used to add an extension if necessary,
 The third page is used, where applicable, to select the programming type used for the new FBD
or Ladder LD application, if the module is compatible with the 2 types of programming.
The procedure is exactly the same as the procedure used to create a new application and is
detailed below (see Create an application, page 26 ).
Create an application
Procedure for creating an application:
Step Action
1 Select the File → New or click on the Create New Program icon when
launching Zelio Soft 2.
Result: The Module Selection window appears.
2 In the Select Your Module Category zone, select the category by clicking on
the corresponding checkbox.
The modules are grouped by categories corresponding to:
 The number of inputs/outputs,
 The presence or absence of an operator display,
 Whether or not it is possible to connect extensions.
Result: The list of corresponding modules appears in the Select the Type of
Zelio Module to Program zone.
Select the module by clicking on the corresponding line then confirm using the
Next >button.
Result: Three following possibilities arise at this stage:
 The module does not support extensions and programming in LD mode
only:
Go to step 7.
 The module does not support extensions and programming in available LD
and FBD modes:
Go to step 6.
 If the module supports extensions:
Result: 2 new zones appear in the window:
 Module selection: summarizing the choices made in steps 2 and 3;
 Select extensions: listing the compatible extensions.
4 In the Select extensions zone, select the extension type to be added in the
Compatible extensions list by double-clicking on the corresponding line or by
using the Add button.
Result: the selected extension appears in the Selected extensions list.
The extension can be removed from the Selected extensions list by clicking on
it then using the Delete button.
NOTE: You may then add a single input/output extension and/or a single bus
type extension.
5 Validate the configuration by clicking on the Next> button.
Result: The program type selection zone appears: Select the programming
type.
6 By default, the programming type is LD. To choose the FBD programming type,
click on the associated graphic.
Click on the NEXT> button to confirm.
7 The edit window appears with a blank wiring sheet.
For an application in FBD mode
With the module type and any extension selected serving as the context, there
is a drawing background displayed in the Edit window with specific I/Os
arranged about its periphery and a specific set of FBD functions presented in
the Tool bar. The names of the module and extensions are displayed below the
wiring sheet.
For an application in LD mode
With the module type and any extension selected serving as the context, there
is a specific set and number of LD functions presented in the Tool bar. The
names of the module and extensions are displayed below the wiring sheet

Click on the Module → Module Selection/Programming menu.
Result: The summary and choose programming type window appears on the
screen.
2 Modify the parameters to obtain the configuration required.
To:
 Modify the module type: Click two times on the Previous button, then
proceed in the same manner as for the creation of an application,
 Add, modify or delete an extension: Click two times on the Previous button,
then proceed in the same manner as for the creation of an application,
 Modify the programming type: Click on the illustration representing the type
of programming desired.
NOTE: If you only want to change the programming type, the previously
programmed instructions, if any, will be erased so that you can create the
application in the chosen programing type.
NOTE: No SR2COM01 extension can be added if the Ladder program
exceeds 120 lines.
3 Continue, if necessary, to the summary page and the choice of programming
type by clicking on Next.
4 Confirm the changes by clicking on Next.
Result: An empty wiring sheet is displayed on the page.







How to Create a New Program
Description
See Creating an Application (see page 26).

How to Program an Application Using the Programming Software
Description
See LD Programming from the Programming Software (see page 211).
See FBD Programming from the Programming Software (see page 393).

Programming an Application from the Smart Relay Front Panel
Description
See PROGRAMMING Menu (see page 81)


How to Transfer the Program From the PC to the Smart Relay
Description
See Transferring the Program from the PC to the Smart Relay (see page 450)


How to Protect the Program Residing in the Smart Relay
Description
See Protection of the Program Saved on the Smart Relay (see page 457)


How to debug an application without loading it onto the smart relay: Simulation
Description
To help ensure that a program will perform as expected before loading it onto a smart relay, it is
possible to simulate execution of the program using the Zelio Soft 2 programming software. This
simulation allows you to:
 Temporarily modify or to force any FBD function output, any LD contact, the majority of function
parameters as well as any of the keys on the smart relay front panel,
 View the effect of each modification or forcing on the execution of the program by observing the
values of the FBD block outputs, LD contacts and coils as well as the displays on the simulated
smart relay front panel.
How to Execute a Program in Simulation Mode
After having created a diagram in the wiring sheet or using Zelio entry in LD mode, click on the
Simulator icon in the toolbar.
To terminate the simulation and return to Edit mode, click on the Edit icon.
After clicking on the Simulator icon, the SIMULATION MODE toolbar and a set of icons
representing the functions available in simulation mode are displayed. All or some of the following
windows can be displayed:
 Using the Window menu:
 The Edit window,
 The Supervision window,
 The Smart Relay Front Panel Simulation window.
 Using the icons in the bar at the bottom of the window:
 The Simulation time window,
 The Function blocks window (with application in LD mode only),
 The Discrete inputs window (with application in LD mode only),
 The Zx keys window (with application in LD mode only),
 The Discrete outputs window (with application in LD mode only).
Each action that the user performs on the chart corresponds to a simulation the results of which
are displayed in the windows.



The Smart Relay Front Panel Simulation Window
This window allows you to use the mouse to click any of the keys on the smart relay front panel
which is depicted in the window.
The keys in the Front Panel window can be controlled as if they were those on the physical front
panel of the smart relay. The functions which can be accessed from the front panel can be used
with a mouse click.
The result of these actions is then displayed in the simulation on the LCD screen.
Though they are accessible, certain functions are inoperative as they are not meaningful in a
simulation environment:
 FILTER,
 WATCHDOG CYCLE,
 TRANSFER.
The Edit Window
Display in LD and FBD:
 Displays programs written on an FBD or LD wiring sheet,
 Shows discrete FBD links, contacts, coils and LD links which are OFF in inactive color (blue by
default),
 Shows discrete FBD links, contacts, coils and LD links which are ON in active color (red by
default). Active and non-supplied contacts and coils are displayed in orange,
 Shows each active step of an SFC chart in active color (red by default),
 Shows the value of each digital link of an FBD chart,
 Animates the LD contacts and FBD functions that have only one Discrete output, according to
the status of its Discrete output,
 Shows the value of the parameters of the FBD functions, by double-clicking on the function
block,
 Shows the value of the parameters of the LD functions, by right-clicking with the mouse on each
contact or coil and then selecting Parameters window in the menu that is displayed.
Forced values are highlighted in the Edit and Supervision windows by a change in the background
color on which they are displayed.
LD Actions:
 Can be used to temporarily modify the state of any LD chart contact, by clicking on it with the
mouse (change from ON/OFF),
 Can be used to permanently force the state of any LD chart contact, by right-clicking on it with
the mouse, selecting Force and maintain in the menu displayed, entering ON or OFF in the
Permanent forcing window, and then confirming the selections by pressing OK,
 Can be used to modify the value of a subset of LD function parameters, by right-clicking on each
contact or coil with the mouse, then selecting Parameters window in the menu displayed,
modifying one or more of the non-grayed out parameters and confirming the selections by
pressing OK,
 Can be used to release the state of any LD chart contact by right-clicking on it with the mouse
and selecting Release in the menu displayed,
 Can be used to release the forced outputs or links, by right-clicking with the mouse in the
window and selecting Release all in the menu displayed.
FBD Actions:
 Can be used to temporarily modify the state of any Discrete or Token output or link of an FBD
chart, by clicking on it with the mouse (change from ON/OFF),
 Can be used to temporarily modify the state of any FBD chart output or digital link, by clicking
on it with the mouse, entering a signed whole value in the Analog value window, and then
confirming the selections by pressing OK,
 Can be used to permanently force the state of any Discrete or Token output or link of an FBD
chart, by right-clicking on it with the mouse, selecting Force and maintain in the menu displayed,
entering ON or OFF in the Permanent forcing window, and then confirming the selections by
pressing OK,
 Can be used to permanently force the state of any digital link output of an FBD chart, by rightclicking
on it with the mouse, selecting Force and maintain in the menu displayed, entering a
signed whole value in the Analog value window, and then confirming the selections by pressing
OK,
 Can be used to modify the value of a subset of FBD function parameters, by double-clicking on
the function block, modifying one or more of the non-grayed out parameters and confirming the
selections by pressing OK,
 Can be used to release the state of a forced output or link by right-clicking on it with the mouse
and selecting Release in the menu displayed,
 Can be used to release the forced outputs or links by right-clicking in the window with the mouse
and selecting Release all in the menu displayed.
Supervision Window
View:
 Displays the LD or FBD edit functions selected in this window as FBD function blocks,
 Shows the discrete FBD function block outputs which are OFF in inactive color (blue by default),
 Shows the discrete FBD function block outputs which are ON in active color (red by default),
 Shows each active step of an SFC chart in active color (red by default),
 Shows the value of each digital output of an FBD function block,
 Animates the FBD function blocks that have only one Discrete output, according to the status of
its Discrete output,
 Shows the value of the FBD function block parameters, by double-clicking on the function block
with the mouse or right-clicking on each contact or coil with the mouse, and then selecting
Parameters window in the menu that is displayed.
Forced values are highlighted in the Edit and Supervision windows by a change in background
color.


Actions:
 Can be used to temporarily modify the state of any Discrete or Token output of an FBD function
block, by clicking on it with the mouse (change from ON/OFF),
 Can be used to temporarily modify the state of any FBD function block output or digital link, by
clicking on it with the mouse, entering a signed whole value in the Analog value window, and
then confirming the selections by pressing OK,
 Can be used to permanently force the state of any Discrete or Token output of an FBD function
block, by right-clicking on it with the mouse, selecting Force and maintain in the menu displayed,
entering ON or OFF in the Permanent forcing window, and then confirming the selections by
pressing OK,
 Can be used to permanently force the state of any digital output of an FBD function block, by
right-clicking on it with the mouse, selecting Force and maintain in the menu displayed, entering
a signed whole value in the Analog value window, and then confirming the selections by
pressing OK,
 Can be used to modify the value of a subset of FBD function block parameters, by doubleclicking
on the function block with the mouse, modifying one or more non-grayed out
parameters, then confirming the selections by pressing OK. This action can also be performed
by right-clicking each contact or coil with the mouse, then selecting Parameters window in the
menu displayed, modifying one or more non-grayed out parameters, then confirming the
selections by pressing OK.
 Can be used to release a forced output by right-clicking on it with the mouse and selecting
Release in the menu displayed,
 Can be used to release the forced outputs by right-clicking in the window with the mouse and
selecting Release all in the menu displayed.
Acceleration and Simulation Limits Window
This window is displayed when you click on the simulation time smart relay icon situated in
the bar at the bottom of the simulation window.
View:
 Displays the date and time of the start and end of the simulation.
Action:
 Can be used to modify the date and time of the start and end of the simulation in the Simulation
Limits window.
 Can be used to accelerate the simulation speed up to 65000 times the original speed by clicking
the >> key and moving the level of the min-max bar.


Function Block Windows
Function Block Windows: Discrete input, discrete outputs and Zx keys are accessible only in LD
mode.
They are displayed when you click on one of the icons situated in the bar at the bottom of the
simulation window.
View:
 Function blocks summarize in table format the function blocks with analog parameters or inputs
and their changes,
 The other windows display the state of the inputs, physical outputs and smart relay keys.
Action:
 Can be used to modify a parameter by double-clicking on the box that represents its value in the
function blocks window, which triggers display of the function's parameters window,
 Can be used to modify the ON or OFF value of an input or a Zx key in the inputs and Z keys
window, by clicking on its drawing.
Functions not Accessible in Simulation Mode:
In simulation mode, the following functions are not available:
 Graphic editing of the program,
 Reading, writing, comparing and clearing the smart relay program,
 Monitoring,
 Modifying communication parameters,
 Modifying the configuration parameters of the program.
Simulation Mode Toolbar
The simulation bar is used to modify simulation rates or to simulate certain events affecting the
smart relay.
NOTE: To display the functions described below, check the box in the File → Preferences menu
labeled Show the refresh cycle and specify the number of cycles for monitoring and simulation.
The functions described below are required to carry out a simulation capable of highlighting
transient anomalies, in particular upon startup of the application and when power is restored
following a power outage.
As the execution of the application on the smart relay is periodic and controllable by a
WATCHDOG (Edit → Program Configuration → Configuration), the programming software can call
the simulator periodically and require that the simulator use a time base that increments the
number of milliseconds corresponding to the application execution period (application basic cycle).
This time base will set the rate not only for execution of the functions that depend explicitly or
implicitly on time (timers, Filtered FBD inputs, looped FBD functions, etc.) but also changes in the
clock and the simulator date on which Clock, Daily programmer and the Summer/Winter time
functions depend.

Thus, to highlight the transient anomalies introduced by the program, the program must be
executed step by step. The Number of cycles must be set to 1, which will trigger a duration between
2 simulation results equal to the execution period of the application on the smart relay.
On the other hand, to provide a succinct explanation of the application operation, you can raise the
number of cycles to 255. If this is not sufficient, then the Acceleration and simulation limits window
can be used to multiply this duration up to 65000, or at least 46 hours between 2 simulation results.
Other icons and windows:
 Stop, Pause and Power outage,
 Run,
 refresh frequency of the PC windows (modifiable values).
A gray button cannot be used; a colored button can be activated by clicking on it once; a yellow or
red button indicates a stop in the simulation (pause) or a stop in the simulated smart relay (stop or
power outage). A green button indicates a program whose simulation is in progress (Run).
When you click on Run, the switch from Stop red to Run green triggers initialization of the program
and startup of program execution simulation.
When you click on Stop, the change from Run green to Stop red stops the program execution
simulation.
The Pause button in the simulation bar can be used to stop and restart program execution. This
button can only be used in simulation mode.
The Mains Power Failure (power outage simulation) button in the simulation bar can be used to
stop and restart a warm restart initialization and then program execution. This initialization, which
takes into account the state of latching parameters, is only executed on the smart relay when a
power outage occurs. This button can only be used in simulation mode.
The refresh frequency corresponds to the frequency at which the output and parameter values are
updated in the application windows that are open during simulation mode. The update of this set
of values is considered to be the simulation result. The refresh frequency can be used, in the
absence of the step counter function, to slowly display the transient changes of the simulated
application.
The integer Number of cycles is the number of cycles executed between each simulation result. A
number of cycles equal to 1 signifies that the modifications to the input output states displayed
correspond to period by period execution (application execution period defined in the
configuration) of the smart relay chosen. Management of the date and time is aligned on the
number of cycles executed between each simulation result.
If you select a number of cycles that is greater than 1 for each refresh of the simulation results, you
might not observe the changes in the inputs and outputs of functions terminating in less time than
the cycle time multiplied by the number of cycles for each refresh.

How to Monitor and Modify an Application Running on the Smart Relay from the
Programming Software: Monitoring
Description
To monitor or modify the behavior of a program running on a smart relay, you can use the
monitoring function. This monitoring allows you to:
 Temporarily modify or permanently force any FBD function output, any LD contact, the majority
of function parameters as well as any of the buttons on the smart relay front panel,
 Periodically display program execution showing input/output values of the smart relay, of any
extensions and FDB block outputs, LD coils and contacts, and the state of the parameters and
the front panel displays of the connected smart relay.
These modifications and display are carried out:
 On the one hand in the programming software windows, which can be accessed:
 Using the menu Edit or Supervision on the smart relay front panel,
 Using the icons of the bar at the bottom of the monitoring window (LD only): Function blocks,
Discrete inputs, Zx keys, Discrete outputs.
The programming software windows display the state of the smart relay inputs and outputs, as
well as those of its possible extensions, the states of the program, the FBD function block
parameters (including output parameters), the states of the LD contacts and coils and the
parameters of the LD diagram corresponding to the program running on the smart relay.
 On the other hand, in the monitoring mode toolbar, where a set of icons can be used to start and
stop application execution in the smart relay and the frequency at which output values and
parameters are updated in the open application windows.
The obtained value of each link is displayed near the function block output. Monitoring mode is
independent of the Run/Stop module function. If the smart relay is stopped, only modifications to
the parameters and the outputs of the buttons on the smart relay front panel are displayed.
NOTE: The values and states displayed in Monitoring mode represent those values and states
read at the time of the defined refresh period.
Furthermore, when the connected smart relay switches to Monitoring mode, the application
execution periods (defined in Program configuration) are extended by the communication time
between the PC and the smart relay, as does any possible permanent forcing applied to the
application. When applications without permanent forcing are executed, the application may run
on the smart relay for a time that is much shorter than the refresh period for the PC monitoring
windows. The actions observed on the smart relay are not less than twice the monitoring refresh
period. Therefore, the real duration of execution periods may vary greatly during this operating
mode.


addition, during the Monitoring mode, the WATCHDOG action (defined in WATCHDOG
Program Configuration) is deactivated.
Switch to Monitoring Mode in the Smart Relay and Programming Software
You can only switch to this mode if the smart relay:
 contains a program that is not read/write protected with a password,
 contains a program that is read/write protected with a password known by you,
 contains a program that is identical to the program open in the programming software.
The programming software determines whether a password protects access to a program. If this
is the case, the programming software displays the Password dialog window.
The chart in the Edit window must be in accordance with the smart relay program. The
programming software launches the Compare the Smart Relay Data with the Program function. If
a difference exists, the programming software returns to edit mode without establishing a
connection with the smart relay.
Following these validations, click on the button in the toolbar to switch to monitoring mode.
Monitoring Window of the Front Panel of the Smart Relay
This window allows you to use the mouse to click any of the keys on the smart relay front panel
which is depicted in the window. The keys in the Front Panel window can be controlled as if they
were those on the physical front panel of the smart relay. The functions which can be accessed
from the front panel can be used with a mouse click. The result of these actions is then displayed
in the copy on the LCD screen.
The Edit Window
Display:
 Displays programs written on an FBD or LD chart,
 Shows discrete FBD links, contacts, coils and LD links which are OFF in inactive color (blue by
default),
 Shows discrete FBD links, contacts, coils and LD links which are ON in active color (red by
default). Active and non-supplied contacts and coils are displayed in orange,
 Shows each active step of an SFC chart in active color (red by default),

Shows the value of each digital link of an FBD chart,
 Animates the LD contacts and FBD functions that have only one Discrete output, according to
the status of its Discrete output,
 Shows the value of the parameters of the FBD functions, by double-clicking on the function
block,
 Shows the value of the parameters of the LD functions, by right-clicking with the mouse on each
contact or coil and then selecting Parameters window in the menu that is displayed.
Forced values are highlighted in the Edit and Supervision windows by a change in background
color.
FBD Actions:
 Can be used to temporarily modify the state of any Discrete or Token output or link of an FBD
chart, by clicking on it with the mouse (change from ON/OFF),
 Can be used to temporarily modify the state of any FBD chart output or digital link, by clicking
on it with the mouse, entering a signed whole value in the Analog value window, and then
confirming the selections by pressing OK,
 Can be used to permanently force the state of any Discrete or Token link or output of an FBD
chart, by right-clicking on it with the mouse, selecting Force and maintain in the menu displayed,
entering ON or OFF in the Permanent forcing window, and then confirming the selections by
pressing OK,
 Can be used to permanently force the state of any digital link output of an FBD chart, by rightclicking
on it with the mouse, selecting Force and maintain in the menu displayed, entering a
signed whole value in the Analog value window, and then confirming the selections by pressing
OK,
 Can be used to modify the value of a subset of FBD function parameters, by double-clicking on
the function block, modifying one or more of the non-grayed out parameters and confirming the
selections by pressing OK,
 Can be used to release a forced output or link by right-clicking on it with the mouse and selecting
Release in the menu displayed,
 Can be used to release the forced outputs or links by right-clicking in the window with the mouse
and selecting Release all in the menu displayed.
LD Actions:
 Can be used to temporarily modify the state of any LD chart contact, by clicking on it with the
mouse (change from ON/OFF),
 Can be used to permanently force the state of any LD chart contact, by right-clicking on it with
the mouse, selecting Force and maintain in the menu displayed, entering ON or OFF in the
Permanent forcing window, and then confirming the selections by pressing OK,
 Can be used to modify the value of a subset of LD function parameters, by right-clicking on each
contact or coil with the mouse, then selecting Parameters window in the menu displayed,
modifying one or more of the non-grayed out parameters and confirming the selections by
pressing OK,

 Can be used to release the state of any LD chart contact by right-clicking on it with the mouse
and selecting Release in the menu displayed,
 Can be used to release the forced outputs or links by right-clicking in the window with the mouse
and selecting Release all in the menu displayed.
Supervision Window
Display:
 Displays the LD or FBD edit functions selected in this window as FBD function blocks,
 Shows the Discrete FBD function block outputs which are OFF in inactive color (blue by default),
 Shows All or None FDB functional blocks that are ON in active color (red by default) (discrete
outputs and active and non-powered FBD blocks are displayed in orange,
 Shows each active step of an SFC chart in active color (red by default),
 Shows the value of each digital output of an FBD function block,
 Animates the FBD function blocks that have only one Discrete output, according to the status of
its Discrete output,
 Shows the value of the FBD function block parameters, by double-clicking on the function block
with the mouse or right-clicking on each contact or coil with the mouse, and then selecting
Parameters window in the menu that is displayed.
Forced values are highlighted in the Edit and Supervision windows by a change in background
color.
Actions:
 Can be used to temporarily modify the state of any Discrete or Token output or link of an FBD
function block, by clicking on it with the mouse (change from ON/OFF),
 Can be used to temporarily modify the state of any FBD function block output or digital link, by
clicking on it with the mouse, entering a signed whole value in the Analog value window, and
then confirming the selections by pressing OK,
 Can be used to permanently force the state of any Discrete or Token output of an FBD function
block, by right-clicking on it with the mouse, selecting Force and maintain in the menu displayed,
entering ON or OFF in the Permanent forcing window, and then confirming the selections by
pressing OK,
 Can be used to permanently force the state of any digital output of an FBD function block, by
right-clicking on it with the mouse, selecting Force and maintain in the menu displayed, entering
a signed whole value in the Analog value window, and then confirming the selections by
pressing OK,
 Can be used to modify the value of a subset of FBD function block parameters, by doubleclicking
on the function block with the mouse, modifying one or more non-grayed out
parameters, then confirming the selections by pressing OK. This action can also be performed
by right-clicking each contact or coil with the mouse, then selecting Parameters window in the
menu displayed, modifying one or more non-grayed out parameters, then confirming the
selections by pressing OK.

 Can be used to release a forced output by right-clicking on it with the mouse and selecting
Release in the menu displayed,
 Can be used to release the forced outputs by right-clicking in the window with the mouse and
selecting Release all in the menu displayed.
Function Blocks Windows
Function Blocks Windows: Discrete input, discrete outputs and Zx keys are accessible only in LD
mode.
They are displayed when you click on one of the icons situated in the bar at the bottom of the
monitoring window.
Display:
 Function blocks summarize in table format the function blocks with analog parameters or inputs
and show their changes,
 The other windows display the state of the inputs, physical outputs and smart relay keys.
Action:
 Can be used to modify a parameter by double-clicking on the box that represents its value in the
function blocks window, which triggers display of the function's parameters window,
 Can be used to modify the ON or OFF value of an input or a Zx key in the inputs and Z keys
window, by clicking on its drawing.
Functions not Accessible in Monitoring Mode
In monitoring mode, the following functions are not available:
 Graphic editing of the program,
 Reading, writing, comparing and clearing the smart relay program,
 Modifying communication parameters,
 Modifying the configuration parameters of the program.
Monitoring Mode Toolbar
The refresh frequency corresponds to the frequency at which the output and parameter values are
updated in the application windows that are open during monitoring mode. Reducing this
frequency, and consequently, the refresh period, reduces the programming software workload.
The commands that can be used to control monitoring are:
 The Stop button,
 The Run button,
 The time between 2 displays of smart relay data on the screen (modifiable value).
NOTE: To display the refresh frequency, check the following box in the File → Preferences menu:
Show the refresh cycle (simulation and monitoring) and the time between two simulation results.





How to Monitor and Modify an Application Using the Smart Relay Front Panel
Description
See MONITORING Menu (see page 93)


What the Error Code Displayed on the Front Panel of the Smart Relay Means
Description
You can display on the front panel the error or advisory codes detected by the smart relay
(WATCHDOG overflow (see page 103), cycle time too long (see page 505), etc.) using the
DEFAULT Menu (see page 115).
Possible Errors
List of errors:
Code Type of error
00 No error
01 Error in writing to non-volatile memory
This error defines transfer problems between the memory cartridge and the
smart relay. If the error occurs frequently, contact your local Schneider Electric
support representative.
02 Error in writing to the clock
If the error occurs frequently, contact your local Schneider Electric support
representative.
04 Overload on transistor outputs
Once a transistor output reaches the threshold for over-current detection, the
group of 4 outputs to which it belongs is deactivated.
To make this group of outputs operational, the cause of the over current (shortcircuit,
etc.) must first be rectified, and then the error cleared from the
DEFAULT menu (see page 115) .
50 Smart relay firmware is corrupted, see Update Smart Relay Firmware
(see page 461).
Reload the firmware on the smart relay, followed by transferring the application
program. If this error persists, contact your local Schneider Electric support
representative.
51 Watchdog overflow
Advisory or error according to the selection made in the configuration menu
(smart relay display) or in the configuration window (programming software).
The cycle time in the smart relay is too short compared with the application
program execution time programmed in the smart relay.
If the application requires cycle time or strict sampling of the smart relay
inputs/outputs, lengthen the application cycle time in the smart relay. To do
this, either set the parameters in the CONFIGURATION menu (smart relay
display) or in the configuration window (programming software).
If the application does not require a maximum cycle time, select: No Action for
the WATCHDOG.

52 The smart relay has executed an incorrect operation
If the error is permanent, reload the firmware on the smart relay and the user
application. If this error persists, contact your local Schneider Electric support
representative.
53 Link error between smart relay and bus-type extension
Verify operation of the extension (connection, power supply and error status).
54 Link error between smart relay and input/output-type extension
Verify operation of the extension (connection, power supply and error status).
58 An error is present in the firmware or on a part of the smart relay hardware.
If the error is permanent, reload the firmware on the smart relay and the
program. If this error persists, contact your local Schneider Electric support
representative.
59 At the beginning of RUN on the smart relay application: The application cannot
switch to RUN as it is incompatible with the smart relay physically connected
to the power supply.
If this error occurs, contact your local Schneider Electric support
representative.
60 At the beginning of RUN on the smart relay application: program incompatible
with the bus extension physically connected to the power supply.
If this error occurs, contact your local Schneider Electric support
representative.
61 At the beginning of RUN on the smart relay application: program incompatible
with the Input/Output extension physically connected to the power supply.
If this error occurs, contact your local Schneider Electric support
representative.
62 Version (or build number) incompatibility when loading a program from the
backup memory
If this error occurs, contact your local Schneider Electric support
representative.
63 Hardware configuration incompatibility when loading a program from the
backup memory
If this error occurs, contact your local Schneider Electric support
representative.


How to Connect the Programming Software to the Smart Relay
Description
See Communication Setup Between the Software and the Smart Relay (see page 448)



How to Diagnose the Smart Relay State
Description
See Smart Relay Diagnostics (see page 456)




How to Control the Smart Relay from the Programming Software
Description
See RUN/STOP program execution commands (see page 454)


How to Control the Smart Relay from the Front Panel
Description
The LCD display and the command keys can be used to:
 Identify the smart relay and its extensions,
 Monitor the state of the smart relay,
 Configure the smart relay and its extensions (date, time, language, etc.),
 Program an application (program) in LD mode,
 Configure and execute a program,
 Monitor the execution of a program,
 Transfer the programs to and from a memory cartridge.
In order to carry out these actions, you can use:
 Menu screens displayed on the first four lines of the LCD display,
 Contextual information displayed on the 5th line of the LCD display,
 5 main keys, which are colored, and one white key (Shift).
Menu Screens
The menu screens display in the first four lines of the LCD display:
 information, or
 actions
NOTE: In this case, only the field that flashes can be selected and its selection triggers the
action.
When the information and the actions to perform do not fit in the four lines, symbols ↑ and ↓ on
the right side column indicate the presence of information on lines preceding or following those on
the screen. These lines can be accessed using the keys located under the screen and designated
by the markings ↑ and ↓.
Contextual Information
Contextual information belongs to two categories:
 Symbols providing information on the state of smart relay operation:
PC connection


password
alarm
Run/Stop
 Contextual menus located above each key that indicate the action that results when the key is
pressed.
The existence of the contextual menu is shown by a horizontal line displayed at the bottom of
the screen and information explaining the functions of the key.
Illustration
Command Keys
The keys belong to two categories:
 Five main colored keys,
 One additional white key (Shift).
Illustration



Shift key
The additional white key (Shift) is only used for the following actions:
 Showing hidden contextual information:
 In the PROGRAMMING menu in LD mode,
 In the MONITORING menu in LD mode,
 In the LD TEXT or FBD DISPLAY menu, if Authorized modification was checked in the
function parameters window.
 In combination with the Menu/OK key
 In the PASSWORD menu, to exit without entering a password,
 To change to RUN mode between the INPUT-OUTPUT menu and a possible active LD TEXT
or FBD DISPLAY menu,
 In combination with the key located under Param
 Modification of the values displayed, including Modification authorized in the LD TEXT or
FBD DISPLAY menus.
Otherwise, the key is inactive.
Colored keys / Arrow keys
The main colored keys are used for the following actions:
 Gray keys: If no contextual menu is displayed above the key, then the marked symbol applies:
 ↑: Selection of the preceding line if it exists,
 ↓: Selection of the following line if it exists,
 →: Movement to the right of the screen (PROGRAMMING and MONITORING menu in LD
mode), or movement in the screen to each action that can be selected, or inactive key.
 ←: Movement to the left of the screen (PROGRAMMING and MONITORING menu in LD
mode), or movement in the screen to each action that can be selected, or return to the
previous menu.
 Blue key Menu/OK display of the menu screen associated with the field selected, or validation
of actions or modifications carried out in a menu, or return to the preceding menu when the
program is inactive (STOP), or return to the input-output menu or a possible LD TEXT or FBD
DISPLAY menu active when the program is executed (RUN).
Colored keys / Modification actions
A contextual menu is displayed above the corresponding key:
 +: Adds +1 if the selected field (flashing) is a number, or selects another choice if the selected
field (flashing) is text.
 -: Subtracts 1 if the selected field (flashing) is a number, or selects another choice if the selected
field (flashing) is text.
 Ins: Inserts an LD diagram line in the PROGRAMMING menu in LD mode.
 Del: Deletes an LD diagram line in the PROGRAMMING menu in LD mode.



Colored keys / Miscellaneous actions
A contextual menu is displayed above the corresponding key:
 Param: Can be used to access the menu describing the parameters of an LD function selected
in the PROGRAMMING or MONITORING menus or modification of the displayed modifiable
values in LD TEXT or FBD DISPLAY.
 1, 2, 3, 4: Pressing the key under the number switches the output of the LD function Zx key or
FBD function Zx Button to ON. Releasing the key switches the function back to OFF.



How to Configure an Application from the Front Panel of the Smart Relay
Description
See PARAMETERS Menu (see page 91).
Setting the parameters for a program means:
 Changing the daylight saving time switchover settings,
 Defining the conditions under which the program will run (access the CONFIGURATION Menu).
You may:
 Modify the program execution frequency,
 delete or choose a WATCHDOG to monitor program cycle times,
 modify the smart relay input filters,
 protect modifications to the program with a password,
 authorize or disable the Zx keys (blue keys) only while program is running in LD mode.
Each function has a number of unique parameters which are not applicable to other functions.
Other parameters may, however, apply in the same way across functions. These are:
 Latching. When selected, this parameter enables the data set for a given function to be saved
and retrieved after a power outage.
 Locked (only in LD mode): When selected, prevents locked parameters from being displayed
and modified using the PARAMETERS menu.
NOTE: In FBD mode, locking is a programming option for programming software which locks the
front panel button commands, other than the modifications authorized by the DISPLAY function
blocks.
To modify or display the parameters using the smart relay front panel, you can:
 Access the PARAMETERS menu in any operating mode then press the buttons beneath the +
and - signs displayed on line 5 on the screen: This displays the parameters used for each
program function;
 When the program is running in LD mode (RUN), access the MONITORING menu then use the
blue navigation keys to point to the required function, then press Shift (White key). When line 5
on the screen displays Param, press the key just below to display the parameter for the selected
function.
 When the program is no longer running in LD mode (STOP), access the PROGRAMMING menu
then repeat the procedure described above.



How to Modify Program Data Using the Smart Relay Front Panel
Description
See TEXT, Displaying a Numerical Value (see page 200)
See DISPLAY (LCD Screen Display), Parameters (see page 309)



How to Recover the Smart Relay Program from the Programming Software
Description
See Transfer the Smart Relay Program to the PC (see page 452)


How to Check an Application Using the Programming Software
At a Glance
The Edit → Check the Program command launches the program compilation, then the result of the
compilation is displayed in the Compilation results window.
Two types of verification can be used for an application:
 The first verifies the consistency between LD or FBD diagrams,
 The second verifies the performance of the application, i.e. the suitability of:
 the memory usage,
 the execution periods of the application,
 memory capacities,
 the execution speed of the smart relay.
Program Consistency Check
If the option: Display compilation results in simulation mode and when loading is activated in the
programming software preferences (see page 508), the compilation is performed automatically in
the following cases:
 Switching from Edit mode to Simulation/Monitoring mode,
 Transferring the program to the smart relay.
Consistency of FBDs
This only concerns SFC network linking errors.
FBD networks behave consistently: inconsistent linking is impossible, and the non-linking of an
input sets it to a constant value that does not affect the execution of the function or makes it
passive. See the details for the particular function in this document.
Consistency of LDs
The LD network can be simulated, loaded and executed on the smart relay at any time. Hence it
can be built and debugged progressively.
However when wiring anomalies are detected (cable without termination, function Reset not
connected, etc.) an eye symbol (see page 220) goes from blue to red in the upper panel of
the edit window. Double click on the red eye to open a program consistency window which gives
details on any detected anomalies.
These notifications are intended to draw your attention to singular wiring instances, which may
nevertheless be justified in certain applications.
As a general rule, these anomalies correspond to inputs with incomplete wiring, or no wiring at all
(e.g.: Reset function), or to parameters left in their default value, or to certain Clock configurations
(where the output stays ON permanently)




Application Performance Check
This appears in the Compilation result window in the following cases:
 Activation of the Edit → Check the program command,
 Switch from Edit mode to Simulation/Monitoring mode (if activated in the programming software
preferences (see page 508)),
 Transfer of the program to the smart relay (if activated in the programming software preferences
(see page 508)).
NOTE: When optional, the window is only displayed when the smart relay capacities (memory
space and execution speed) are too low in relation to the program being checked.
NOTE: The compilation time for programs that use more than 128 FBDs or SFCs and numerous
loops, may exceed several minutes.
Application Estimated Duration Check
The compiler also calculates the estimated duration of the program by adding together the
elementary execution periods of each function used.
The application is executed periodically, and its execution period is defined in Edit → Program
Configuration → Configuration → Adjustment of the basic cycle time of the module, accessible by
clicking the icon in the toolbar (edit, simulation and monitoring mode), and then opening
the Configuration tab.
This period corresponds to the minimum sampling period of the smart relay inputs (except for: Fast
counter function) and the minimum time for modifying the output values. The application response
time is therefore twice the duration of this period.
NOTE: Take into account that the compiler arranges FBD functions from inputs to outputs, cutting
the loops as close as possible to the outputs and SFCs from each INIT STEP or RESET INIT, to
the downstream steps.
Not all automation applications need a WATCHDOG on overrun of the target application execution
period. You can therefore choose to use a WATCHDOG (see page 103) which will generate an
alarm or error, if the application is in RUN mode on the smart relay, and when the application
execution period, added to the duration of the processes specific to the operation of the smart relay
and any extensions, exceeds the duration of the selected period.
The action of this WATCHDOG (inactive by default) is defined in Edit → Program Configuration →
Configuration → WATCHDOG action (module cycle time control), accessible by clicking the
icon in the toolbar (edit, simulation and monitoring mode), and then opening the
Configuration tab.
A WATCHDOG notification can be returned to an FBD program, enabling you to activate a retrieval
sequence in the application, by using the smart relay status (see page 329) function




NOTE: The LD and FBD functions have a defined maximum execution period, with one exception:
in FBD, the execution period of the TIME PROG function may vary from 1 to 51 depending on the
number of events used.
To determine the duration of the program execution period, you must take into account the
estimated duration in the compilation results table.
To have a constant program execution period, you must also perform appropriate tests on the
smart relay to verify that Watchdog Overrun does not appear.
Duration of Processes Specific to the Operation of the Smart Relay and any Extensions
In addition to the processing time for the function blocks contained in the application program, there
are a number of additional processes during an execution period which can be defined and are
taken into account in the calculation of available application execution time (compilation result) of
each period.
However, there are others, which can be either occasional or hard to quantify or account for.
Processes hard to quantify:
 Synchronous periodic interruptions which take up an extra 1 millisecond for every 10
milliseconds in a period (i.e. 1 millisecond for a period of 10 milliseconds and 5 milliseconds for
a period of 50 milliseconds). These interruptions are used to acquire microprocessor inputs,
 Interruptions relating to the fast counter (H-SPEED COUNT).
Episodic processes:
 Clock management: switch between summer and winter time: 1.60 milliseconds,
 Compensation for clock drift once per week, every Sunday at 01:00: 4.38 milliseconds.
The WATCHDOG has no effect for the period in which one of these processes takes place.
NOTE: If the application presents no requirements in the event of an increase in the execution
duration, set the WATCHDOG to inactive. Otherwise, you must verify the maximum execution time.
NOTE: Measurements of analog input values on smart relays supplied with an AC voltage (24 Vac
and 100-240 Vac) are performed every 20 milliseconds. Consequently, if you choose an execution
period of 10 milliseconds, analog input acquisition for these types of smart relays will take place
every two cycles.


NOTE: Modifying parameters using the FBD DISPLAY or LD TEXT functions on the front panel of
the smart relay increases the application execution period by a variable time. The same applies for
the other commands (PARAMETERS, etc.) carried out from the front panel. The WATCHDOG has
no effect in this operating mode of the smart relay (Smart Relay Status (see page 329)).
NOTE: The display of various data (text, data, time, date) by active FBD DISPLAY functions or an
active LD TEXT function, on the smart relay front panel increases the application execution period
by a variable duration. This duration depends on the type of data to be displayed and, for the FBD,
on the number of DISPLAYS simultaneously active (maximum: 32).
NOTE: In Monitoring mode, the execution times are increased by the communication times
between the PC and the smart relay. The real execution time may vary greatly during this operating
mode. In addition, during the Monitoring mode, the WATCHDOG action (defined in WATCHDOG
Program Configuration) is deactivated (Smart Relay Status (see page 329)).


How to Check the Smart Relay Firmware
Description
See Smart relay Diagnostics (see page 456) and Compatibility between the version of Zelio Soft 2
software and the version of the firmware on the smart relay (see page 538)


How to Use the Memory Cartridge
Description
See TRANSFER Menu (see page 107


How to Configure the Language of the Programming Software and the Smart Relay
Description
You can configure the language used in the programming software and on that used on the front
panel of the smart relay:
 In the programming software: File → Programming Software Preferences menu (programming
software),
 In the programming software: Module → Module Language menu (smart relay),
 From the smart relay front panel: LANGUAGE menu (smart relay).


How the Smart Relay Behaves in the Event of Power Outage
Power Outage
A power outage causes the following:
 The application execution is stopped and the buttons are inoperable. The outputs maintain their
logical status and values they had prior to the detection of the power outage while they are being
saved. After saving, the outputs are turned off (deactivated).
 The links with the PC and any extensions are terminated:
 The programming software displays the following message: the target peripheral is not
reacting. Check the connection,
 The outputs of the input/output extensions are deactivated after retaining the output values,
 The Modbus extension normally continues to emit 80 milliseconds after the power outage
that affected the smart relay,
 After 80 milliseconds, the Modbus extension detects the interruption and sets the Modbus
status word to Time_OUT_SPI, then loses its power supply.
 The smart relay display is cleared, the backlighting switches off and the smart relay outputs are
deactivated.
NOTE: The date and time are maintained during the power outage on smart relays equipped with
a clock (battery powered).
Restart Following a Power Outage
The smart relay verifies that its extensions are operating normally, then restores the value of the
outputs stored during the power outage, and restarts the application execution with a specific
initialization sequence for power return.
This sequence initializes the function inputs and outputs, except the outputs of the functions
protected by a checked latching parameter.
In this case, these outputs are not reset, and therefore are initialized with the value they had at the
time of the power outage.
Functions with latching parameters in LD mode:
 Auxiliary Relays (see page 151)
 Discrete Outputs (see page 144)
 Timers (see page 182)
 Counters (see page 157)
 Fast Counter (see page 166)



Functions with latching parameters in FBD mode:
 The ARCHIVE (see page 327) function,
 Preset hour counter: PRESET H METER (see page 302)
 Timers: TIMER A/C (see page 289), TIMER B/H (see page 297), TIMER Li (see page 294),
 Counters: PRESET COUNT (see page 276),UP_DOWN COUNT (see page 287),
 Fast counter: HI_SPEED COUNT (see page 281),
 CAM block (see page 324).
Special case of SFC components. On restart after a power outage, the positions the status tokens
held in SFCs whose continuity was interrupted are:
 re-initialized if the charts did not have RESET-INIT function,
 restored if the charts had a RESET-INIT function.


How to import an application developed using Zelio Soft 1 into Zelio Soft 2
Description
See Conversion of Older Applications using Zelio Soft 2 (see page 514).




Part III
Functions Accessible from the Front Panel
Subject of this Section
This section describes the functions that can be accessed from the front panel of the smart relay
in LD and FBD mode.
What Is in This Part?
This part contains the following chapters:
Chapter Chapter Name Page
3 Overview of the Functions Accessible from the Front Panel 73
4 Input/Output Screen 79
5 PROGRAMMING Menu 81
6 PARAMETERS Menu 91
7 MONITORING Menu 93
8 RUN/STOP Menu 95
9 CONFIGURATION Menu 97
10 CLEAR PROGRAM Menu 105
11 TRANSFER Menu 107
12 VERSION Menu 111
13 LANGUAGE Menu 113
14 DEFAULT Menu 115
15 CHANGE DATE/TIME Menu 117
16 CHANGE SUMMER/WINTER Menu 119


















